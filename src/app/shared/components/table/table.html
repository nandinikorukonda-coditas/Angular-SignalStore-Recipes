<table mat-table [dataSource]="data()">

    @for (column of columns(); track column) {
  
      <ng-container [matColumnDef]="column">
  
        <!-- Header -->
        <th mat-header-cell *matHeaderCellDef>
          {{ column | titlecase}}
        </th>
  
        <!-- Cell -->
        <td mat-cell *matCellDef="let row">
          @if (column === 'actions') {
            <ng-container
              *ngTemplateOutlet="actionsTpl; context: { $implicit: row }"
            />
          } @else {
            {{ row[column] }}
          }
        </td>
  
      </ng-container>
  
    }
  
    <tr mat-header-row *matHeaderRowDef="columns()"></tr>
    <tr mat-row *matRowDef="let row; columns: columns()"></tr>
  
  </table>
  